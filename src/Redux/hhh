export const signup=(email,password)=> async dispatch=>{
try{
    auth.createUserWithEmailAndPassword(email,password)
    .then(dataBeforeEmail=>{
        auth.onAuthStateChanged(user=>{
            user.sendEmailVerification();
        })
    })
    .then(dataAfterMail=>{
        auth.onAuthStateChanged(user=>{
            if(user.emailVerified){
                dispatch({
                    type:Signup_Success,
                    payload:'Ypur Account was created'
                })
            }
            else{
                dispatch({
                    type:Signup_Fail,
                    payload:'Something went wrong we could`nt create your account,Try again'
                })
            }

        })
    })
    .catch(error=> {
        dispatch({
          type: Signup_Fail,
          payload:
            "Something went wrong, we couldn't create your account. Please try again."
        });
      });
}
catch(err){
dispatch({
    type:Signup_Fail,
    payload:'Something went wrong we coul'
})
}
}
